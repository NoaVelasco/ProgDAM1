/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Main.java to edit this template
 */
package arrays;

import java.util.Arrays;
import java.util.Scanner;
/**
 *
 * @author dam1
 */
public class Stafeit {

    static Scanner sc = new Scanner(System.in);

    static String bLee = """
                                            .                              . .                   .  
                                     .                                                              
                                                                  .                                 
  .                                                ........                                         
        .                                       ............                       .    .       .   
       .    H O L A ,                          ....++-.=+#==...                   .                  
                                            ...:#@@@%%%%@@@@%-..                                    
          P I S T O L E R O .             ..-#%%%@@@@@@@@@@@@@@%#.                .             .    
                                        ..%%%@@@@@@@@@@@@@@@@@@@=.                    .             
         .            .                :#%@@@@@@@@@@@@@@@@@@@@%%@%                                  
            .                          -@@@@@@@@@@@@@@@@@@@@@@%%@@.                                 
   .                  .              . *@@%@%@%%%%@%@@@@@@@@%%%%%@#          .        .             
    .                                 .#@@%%%%%@%%#%%##%#%@@%%@@@@@.         .      .               
        C O M P R A   M I S         .  +@%%%%@@#%@#**%%%@%#%%%@@@@@.                                
                                      .:@%%**#*#++----%*%%@%@@@@@@%.                              . 
          C H U C H E S .              .@%%*=+++---=+:-=+#@@@@%+=%#     .                           
                 .           .          *%@%%**%#%%#+++-=-#@%#--=@.       .        .                
                              .         .%#*@%+-#%+@%==---#%@::+=%   .                              
                                        .####%=::++==--:-=+@*=-:%@                                  
                              .   .      %####=::--=+++====%*#+%%:                    .             
 .               .        .              .%##*-:.=+=+++======-=@%             .      .              
                                          .###**---:--=====++=+%#                   .           .   
                                        . ..%%#*-++=--=-==++=-=-..       .                          
                   .                       .#%#+=--======+==--+=.                    .          .   
                                             %#++++====*#*==-:-++=.. .                   .          
                          .                 ..%#+===+**+=+==---===+==-..                       .    
                                                 .@@%**=++===-----====.....                         
            .                                     =%#**+*+=+=-=:---=+....+:=+.            .  .      
          .                   .                  .-%%%*#*++==-+====*.-:-*-:-===..        =:.. .  ...
                                             .-=.*%%%%%%#--====++#....##*++=:-:::-=+.  . -=:..:.....
.                 .                      .:###+:**%%#+#%#*+++***+....##***+==---:-:---.. .=-..+=-...
.. ....                             .  :+%%%#+:*%%%*#=%##+*++**-....*###***==----::::---..+-:.+*-::.
   ..........                    .   .#%%*+#--#%#*+++#%#*****#.....+++***+++=-----:::::-=.===-=+-*=:
 ..  .+:=*:= ....      .       .    .**##*#.-=###***+#%##*#*%...:.******++++++==-:::::::::-==+=+#*=.
  . .%@#%..:++.-....                #*+#%%.-.*###****######*...-.+****++++=++*+++=--:.::::-==:++++-:
   ..@%%##......-+.+:..    .       .**#%%.--.*#***++#%###%=.....****++++==+*%##*=+===---:--====-:+-:
     :%%#@.  ........+*:+=         :##%%%::-.+***+=+####=.....:.++++++++++##%#*#*++==-------+++==+:.
     .@@%#*      .... .....-.=-...-***###=-==.-*+==%+:.:--....:::+====++@@@@%-::::::.:------=+++++-=
      @%@#%.    ..  ............+=-*%%%%%=-==:==---:-::::-=--....:=---:%%###+***-:::-::::..-=-==+++=
      .@%%@:.      .............:%@%%#@@@%===-::--:..::::---.--.....:-*##**+===*###*++#---==+=---++*
       @@@%%  ..........   .   =#****@@%%%===--::--::::...::.........:+##*++===**#*#**==-%###*+==+++
       .@%@%=-:  ..........   ##*+=-:+#%%%%==--..::----:............:-=::+*+++**#%==****==---+%*+**#
..     .@@%@#==:...........  -*+=:::-=%%%%%+====--::::-------:--::::.-----:::-*##*=:..***+*+++*%%%%=
...   .:.@%##@+=- ..........-*+*--:--#%%%%%.==+++=====---...::::::::------:-==--=-.:.  ..******#%%%#
...  .*#*-:::-:-::.........=++++==--=%%%%%  .-=---::::.............::-----===--:..-      ..=***%%%%%
... .:#%%++**==:-:   ..-.::=++-----==%%%#.  .-===-.--:::::-:::-::...:-:::::----:..-         .+#%%%%#
...  *+*#+-:-:-==-===---======--==-=*#%.     -======-.........:....=====--=----...            .%@@@@
...  =****+-:--=-=+==============+++##       =+++==--::::.......::------=-----:-::    .         .*%@
...  .***#*+-*:--+++++++===========#.  .     =+=====-::........:.:..::====----:--:         .      ..
...    .**##=-+#++=====+=+=======+:         =======-::......:.......-========..-:          ..      .
...       .*@@@%+++++===+::......           =----:::::::.......::.::=::---=-.--:                 .  
 ..       . %%@#@ .          .              ==-::::::::..::..:::--:...::-==-:-:                     
. .      .   %%%%...                       .-=-=---:.........-:-::...:-=====---.                    
.        .. .%#@#@.                     .  --===-::::::::::::.......-----==--=:                     
.            :%@#@ .   .                 .-=++==-:-===+++=+=-:::-::::::-:---=.     .                
 .      .. .. @@@#%..                    ++***+#%@@@@%%@@@@@%@@##=:::..::===-.                      
...        ...:@%#@..                   ***###%%@@@@@@%@@%@@@@@@@@@%@%@%@@==..                      
..        .....%*%%:.      .           .%##%@@@%@@@@@@@@@@@@@@%%@@%%%%%%%%%#.                       
  ..    .. ....+#%#@    .             .+##%@@@%%%%%%@@@@@@@%%%@@@@@@%@%%%%%*..            .         
 .    . . ...  .       .            ..=+%%%%%@@@@@@@@@@@@@@@@@@@@@%%##@%%%##.                       
         ...                          %##@@%%%@@@@@@@@@@@@@@@@@@@@%@%%%#####:            .       .  
         .. .....                    %*%@@%%@@@%@@@@@@@@@@@@@@@@@@@@@%%@%@##*. .                  . 
        ........                   .:*#@@@%%@%@@@@@@@@@@@@@@@@@@@@@@%@@@@@@%*.                      
         .......    .         .    .#%@@@@%%%%%%%%@@@@@@@@@@@@@@@@@@@@@%@@@#*:.                     
.         ......                  +*@@@@@@@@%%@%@@@@@@@@@@@@@@@@@@@@@@%%%@@%#-.                     
           ....                 .=@@@@@@@@@%%@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@@%=:.                    
.           ...                .%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@##-       .            
           ...               ..%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%##=                   
  . .   .....              ...%@@@%%@@@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#= .                 
  .  . .. ..              ..:%@@@%%%@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%+.           .     .
  ...  .                 ..#%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#.           .      
  .. . .                ..#%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@#.           .     
     .                 ..%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.          ..  . 
   .         .        ..%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@@@@@@@@@@..   .     ...   
     .          .    ..%%%%%%%%%@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%..     .  .=..  
           ...      ..#%%%%%@%%@@@@@@@@@@@@@@@@@@@@@@@%%@%%@%@@@@@@@@@@@%@@@@@@@@@@@#.        .+... 
         ....     ...+##%%%%%%@@@@@@@@@@@@@@@@@@@%%@@@@@@@@%%@@@@@@@@@@@@@@@@@@@@@@@%-.       -+... 
       ......     ..-#%%%@%%%@@@@@@@@@@@@@@@@@@@@%@@.....%@@@@@@@@@@@@@@@@@@@@@@@@@@@#.      .+.....
        . ..     ...:+%@@@%%@@@@@@@@@@@@@@@@@@@@@@@@......@@@@@@@@@@@@@@@@@@@@@@@@@@@%.       ......
  .. . ... .    ....#%@@@%%@@@@@@@@@@@@@@@@@@@@%%@#.........%@@@@@@@@@@@@@@@@@@@@@@%@@:       :.....
   .. ... .... ....@@@@@@%%%@@@@@@@@@@@@@@@@@@@@#=...........@@@@@@@@@@@@@@@@@@@@@@@@%+    ...:.....
  ....  ..      ..%@@@@@@%%@@@@@@@@@@@@@@@@@@@@=..............@@@@@@@@@@@@@@@@@@@@@@@@#......+.=....
.. ..     .. .. .=%@@@@@@@@@@@@@@@@@@@@@@@@@@*.................@@@@@@@@@@@@@@@@@@@@@@@%=.....:=.:...
  ...  . .. .....###%@@@@@@@@@@@@@@@@@@@@@%......................@@@@@@@@@@@@@@@@@@@@@@@#*..  -:=.. 
.....    . . . .###%@@@@@@@@@@@@@@@@@@@@@.........................#@@@@@@@@@@@@@@@@@@@@@%%...  .    
.....     .    #%%@@@@@@@@@@@@@@@@@@@@@@-..........................=@@@@@@@@@@@@@@@@@@@@@@%.   ..   
.....   .    ..%@@@@@@@@@@@@@@@@@@@@@@..............................*@@@@@@@@@@@@@@@@@@@@@@%.       
.....  .     *%@@@@@@@@@@@@@@@@@@@@@%= ..............................*@@@@@@@@@@@@@@@@@@@@%%.       
.........  ..##@@@@@@@@@@@@@@@@@@@@#%*................................%@@@@@@@@@@@@@@@@%@@@%....  ..
                         """;

    static String menuPrompt = """
+--------------------------------------+
|           MENU PRINCIPAL             |
+--------------------------------------+
|                                      |
| [1] Pedir producto                   |
| [2] Mostrar productos                |
| [3] Rellenar producto                |
|                                      |
| [0] Apagar maquina                   |
|                                      |
+--------------------------------------+
   >> Selecciona una opcion: _
                    """;

    static String[][] nameProds = {
        {"KitKat", "Chicles de fresa", "Lacasitos", "Palotes"},
        {"Kinder Bueno", "Bolsa variada Haribo", "Chetoos", "Twix"},
        {"Kinder Bueno", "M&M'S", "Papa Delta", "Chicles de menta"},
        {"Lacasitos", "Crunch", "Milkybar", "KitKat"}
    };

    static double[][] prizeProds = {
        {1.1, 0.8, 1.5, 0.9},
        {1.8, 1, 1.2, 1},
        {1.8, 1.3, 1.2, 0.8},
        {1.5, 1.1, 1.1, 1.1}
    };

    static final int ARRAY_SIZE = 4, CANTIDAD_INI = 5;
    static int amount[][] = new int[ARRAY_SIZE][ARRAY_SIZE];
    static double sales = 0.0;
    static boolean loop = true;
    static int row, col;

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {

        app();

    }

    static void fillMatrix(int[][] matriz, int valor) {
        for (int[] matriz1 : matriz) {
            Arrays.fill(matriz1, valor);
        }
    }

    static void showProds() {
        for (int i = 0; i < ARRAY_SIZE; i++) {
            System.out.println(menuPrompt.substring(0, menuPrompt.indexOf("\n")));
            for (int j = 0; j < ARRAY_SIZE; j++) {
                System.out.printf("> %d%d | %.2f E | %s%n", i, j, prizeProds[i][j], nameProds[i][j]);
            }
        }
        System.out.println(menuPrompt.substring(0, menuPrompt.indexOf("\n")));
    }

    static void buyProd() {
        System.out.print("   >> Selecciona codigo: _");
        String cod = sc.nextLine();
        if (validateCod(cod)) {
            pickProduct();
        }
    }

    static boolean validateCod(String codigo) {
        boolean output = true;
        if (codigo.length() != 2) {
            output = false;
            System.out.println("No es un codigo valido. 2 digitos, por favor.");
        } else if (!Character.isDigit(codigo.charAt(0)) || !Character.isDigit(codigo.charAt(1))) {
            output = false;
            System.out.println("No es un codigo valido. Usa digitos, por favor.");
        } else {
            row = Integer.parseInt(codigo.charAt(0) + "");
            col = Integer.parseInt(codigo.charAt(1) + "");
            if (row >= ARRAY_SIZE || col >= ARRAY_SIZE) {
                System.out.println("No es un codigo valido. Fuera de rango.");
                output = false;
            }
        }
        return output;
    }

    static void pickProduct() {
        if (amount[row][col] > 0) {
            System.out.println("Aqui tienes tu " + nameProds[row][col]);
            amount[row][col]--;
            sales += prizeProds[row][col];
        }
        if (amount[row][col] == 0) {
            System.out.println("No hay más " + nameProds[row][col]);
        }
    }

    static boolean login() {
        String pass = "admin";
        System.out.print("Introduce la contraseña: ");
        if (pass.equals(sc.nextLine())) {
            System.out.println("Contraseña correcta.");
            return true;
        } else {
            System.out.println("Contraseña incorrecta.");
            return false;
        }
    }

    static void addProd() {
        System.out.print("   >> Introduce cantidad: _");
        String num = sc.nextLine();
        if (num.matches("\\d+")) {
            amount[row][col] += Integer.parseInt(num);
        } else {
            System.out.println("Tienes que introducir un numero.");
        }
    }

    static void fillProd() {
        if (login()) {
            System.out.print("   >> Selecciona codigo: _");
            String cod = sc.nextLine();
            if (validateCod(cod)) {
                addProd();
            }
        }
    }

    static void exit() {
        System.out.printf("Las ventas han sido %.2f euros%n", sales);
        loop = false;
    }

    static void app() {
        fillMatrix(amount, CANTIDAD_INI);
        System.out.println(bLee);
        do {
            System.out.print(menuPrompt);
            int option = Integer.parseInt(sc.nextLine());
            switch (option) {
                case 1:
                    buyProd();
                    break;
                case 2:
                    showProds();
                    break;
                case 3:
                    fillProd();
                    break;
                case 0:
                    exit();
                    break;
                default:
                    System.out.println("Elige entre 0-3");
            }
        } while (loop);
    }

}
